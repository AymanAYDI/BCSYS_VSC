OBJECT Page 39 General Journal
{
  OBJECT-PROPERTIES
  {
    Date=20/09/16;
    Time=14:18:04;
    Modified=Yes;
    Version List=NAVW16.00,NAVFR4.00.01,JX-VSC2.0-XAD-AUD,JX-VSC3.0-PBD;
  }
  PROPERTIES
  {
    CaptionML=[ENU=General Journal;
               FRA=Feuille comptabilitÇ];
    SaveValues=Yes;
    SourceTable=Table81;
    DataCaptionExpr=DataCaption;
    DelayedInsert=Yes;
    PageType=Worksheet;
    AutoSplitKey=Yes;
    PromotedActionCategoriesML=[ENU=New,Process,Report,Bank,Application,Payroll;
                                FRA=Nouveau,Traitement,êtat,Banque,Lettrage,Salaires];
    OnInit=BEGIN
             TotalBalanceVisible := TRUE;
             BalanceVisible := TRUE;
           END;

    OnOpenPage=VAR
                 JnlSelected@1000 : Boolean;
               BEGIN
                 BalAccName := '';
                 OpenedFromBatch := ("Journal Batch Name" <> '') AND ("Journal Template Name" = '');
                 IF OpenedFromBatch THEN BEGIN
                   CurrentJnlBatchName := "Journal Batch Name";
                   GenJnlManagement.OpenJnl(CurrentJnlBatchName,Rec);
                   EXIT;
                 END;
                 GenJnlManagement.TemplateSelection(PAGE::"General Journal",0,FALSE,Rec,JnlSelected);
                 IF NOT JnlSelected THEN
                   ERROR('');
                 GenJnlManagement.OpenJnl(CurrentJnlBatchName,Rec);
               END;

    OnAfterGetRecord=BEGIN
                       ShowShortcutDimCode(ShortcutDimCode);
                       SetUserInteractions;
                     END;

    OnNewRecord=BEGIN
                  UpdateBalance;
                  SetUpNewLine(xRec,Balance,BelowxRec);
                  CLEAR(ShortcutDimCode);
                  CLEAR(AccName);
                  SetUserInteractions;
                END;

    OnModifyRecord=BEGIN
                     SetUserInteractions;
                   END;

    OnAfterGetCurrRecord=BEGIN
                           GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                           UpdateBalance;
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 1000000007;1 ;ActionGroup;
                      CaptionML=[ENU=CCA;
                                 FRA=CCA] }
      { 1000000008;2 ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=reverse invoices not received;
                                 FRA=Contrepasser les CCA];
                      OnAction=BEGIN
                                 //DEBUT MODIF JX-XAD 23/08/2010
                                 ContrepasserCCA.SetEXTCCAJnlLine(Rec);
                                 ContrepasserCCA.RUNMODAL;
                                 CLEAR(ContrepasserCCA);
                                 //FIN MODIF JX-XAD 23/08/2010
                               END;
                                }
      { 1000000009;2 ;Action    ;
                      CaptionML=[ENU=generate invoices not received;
                                 FRA=GÇnÇrer les CCA];
                      OnAction=VAR
                                 "Grec_LigneRÇceptionAchat"@1000000001 : Record 121;
                               BEGIN
                                 //DEBUT MODIF JX-XAD 23/08/2010
                                 GÇnÇrerCCA.SetCCAJnlLine(Rec);
                                 GÇnÇrerCCA.RUNMODAL;
                                 CLEAR(GÇnÇrerCCA);
                                 //FIN MODIF JX-XAD 23/08/2010
                               END;
                                }
      { 1000000000;1 ;ActionGroup;
                      CaptionML=[ENU=FNP;
                                 FRA=FNP] }
      { 1000000001;2 ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=reverse invoices not received;
                                 FRA=Contrepasser les FNP];
                      OnAction=BEGIN
                                 //DEBUT MODIF JX-XAD 15/10/2008
                                 ContrepasserFNP.SetEXTFNPJnlLine(Rec);
                                 ContrepasserFNP.RUNMODAL;
                                 CLEAR(ContrepasserFNP);
                                 //FIN MODIF JX-XAD 15/10/2008
                               END;
                                }
      { 1000000002;2 ;Action    ;
                      CaptionML=[ENU=generate invoices not received;
                                 FRA=GÇnÇrer les FNP];
                      OnAction=VAR
                                 "Grec_LigneRÇceptionAchat"@1000000001 : Record 121;
                               BEGIN
                                 //DEBUT MODIF JX-XAD 15/10/2008
                                 GÇnÇrerFNP.SetFNPJnlLine(Rec);
                                 GÇnÇrerFNP.RUNMODAL;
                                 CLEAR(GÇnÇrerFNP);
                                 //FIN MODIF JX-XAD 15/10/2008
                               END;
                                }
      { 75      ;1   ;ActionGroup;
                      CaptionML=[ENU=&Line;
                                 FRA=&Ligne];
                      Image=Line }
      { 76      ;2   ;Action    ;
                      Name=Dimensions;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 FRA=Axes analytiques];
                      Promoted=Yes;
                      Image=Dimensions;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 ShowDimensions;
                                 CurrPage.SAVERECORD;
                               END;
                                }
      { 43      ;1   ;ActionGroup;
                      CaptionML=[ENU=A&ccount;
                                 FRA=&Compte];
                      Image=ChartOfAccounts }
      { 44      ;2   ;Action    ;
                      ShortCutKey=Shift+F7;
                      CaptionML=[ENU=Card;
                                 FRA=Fiche];
                      RunObject=Codeunit 15;
                      Image=EditLines }
      { 45      ;2   ;Action    ;
                      ShortCutKey=Ctrl+F7;
                      CaptionML=[ENU=Ledger E&ntries;
                                 FRA=ê&critures comptables];
                      RunObject=Codeunit 14;
                      Promoted=No;
                      Image=GLRegisters;
                      PromotedCategory=Process }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 46      ;1   ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 FRA=Fonction&s];
                      Image=Action }
      { 13      ;2   ;Action    ;
                      CaptionML=[ENU=Renumber Document Numbers;
                                 FRA=RenumÇroter des documents];
                      Image=EditLines;
                      OnAction=BEGIN
                                 RenumberDocumentNo
                               END;
                                }
      { 92      ;2   ;Action    ;
                      CaptionML=[ENU=Insert Conv. LCY Rndg. Lines;
                                 FRA=InsÇrer lignes arr. conv. DS];
                      RunObject=Codeunit 407;
                      Image=InsertCurrency }
      { 107     ;2   ;Separator ;
                      CaptionML=[ENU=-;
                                 FRA=-] }
      { 109     ;2   ;Action    ;
                      Name=GetStandardJournals;
                      Ellipsis=Yes;
                      CaptionML=[ENU=&Get Standard Journals;
                                 FRA=&Obtenir les feuilles standard];
                      Promoted=Yes;
                      Image=GetStandardJournal;
                      PromotedCategory=Process;
                      OnAction=VAR
                                 StdGenJnl@1000 : Record 750;
                               BEGIN
                                 StdGenJnl.FILTERGROUP := 2;
                                 StdGenJnl.SETRANGE("Journal Template Name","Journal Template Name");
                                 StdGenJnl.FILTERGROUP := 0;

                                 IF PAGE.RUNMODAL(PAGE::"Standard General Journals",StdGenJnl) = ACTION::LookupOK THEN BEGIN
                                   StdGenJnl.CreateGenJnlFromStdJnl(StdGenJnl,CurrentJnlBatchName);
                                   MESSAGE(Text000,StdGenJnl.Code);
                                 END;

                                 CurrPage.UPDATE(TRUE);
                               END;
                                }
      { 108     ;2   ;Action    ;
                      Name=SaveAsStandardJournal;
                      Ellipsis=Yes;
                      CaptionML=[ENU=&Save as Standard Journal;
                                 FRA=Enregi&strer en tant que feuille standard];
                      Promoted=Yes;
                      Image=SaveasStandardJournal;
                      PromotedCategory=Process;
                      OnAction=VAR
                                 GenJnlBatch@1001 : Record 232;
                                 GeneralJnlLines@1004 : Record 81;
                                 StdGenJnl@1002 : Record 750;
                                 SaveAsStdGenJnl@1003 : Report 750;
                               BEGIN
                                 GeneralJnlLines.SETFILTER("Journal Template Name","Journal Template Name");
                                 GeneralJnlLines.SETFILTER("Journal Batch Name",CurrentJnlBatchName);
                                 CurrPage.SETSELECTIONFILTER(GeneralJnlLines);
                                 GeneralJnlLines.COPYFILTERS(Rec);

                                 GenJnlBatch.GET("Journal Template Name",CurrentJnlBatchName);
                                 SaveAsStdGenJnl.Initialise(GeneralJnlLines,GenJnlBatch);
                                 SaveAsStdGenJnl.RUNMODAL;
                                 IF NOT SaveAsStdGenJnl.GetStdGeneralJournal(StdGenJnl) THEN
                                   EXIT;

                                 MESSAGE(Text001,StdGenJnl.Code);
                               END;
                                }
      { 49      ;2   ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Test Report;
                                 FRA=Impression test];
                      Image=TestReport;
                      OnAction=BEGIN
                                 //DEBUT AJOUT JX-XAD 08/10/2010
                                 IF "Journal Batch Name" = 'C-POOL' THEN
                                   Gcu_CheckJnlLine.ValidateLines("Journal Template Name","Journal Batch Name");
                                 //FIN AJOUT JX-XAD 08/10/2010

                                 //DEBUT MODIF JX-XAD 09/02/2010
                                 Gcu_CheckJnlLine.CheckGenJnlLines("Journal Template Name","Journal Batch Name");
                                 //FIN MODIF JX-XAD 09/02/2010

                                 ReportPrint.PrintGenJnlLine(Rec);
                               END;
                                }
      { 50      ;2   ;Action    ;
                      Name=Post;
                      ShortCutKey=F9;
                      CaptionML=[ENU=P&ost;
                                 FRA=&Valider];
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=PostOrder;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 //DEBUT AJOUT JX-XAD 08/10/2010
                                 IF "Journal Batch Name" = 'C-POOL' THEN
                                   Gcu_CheckJnlLine.ValidateLines("Journal Template Name","Journal Batch Name");
                                 //FIN AJOUT JX-XAD 08/10/2010

                                 //DEBUT MODIF JX-XAD 09/02/2010
                                 Gcu_CheckJnlLine.CheckGenJnlLines("Journal Template Name","Journal Batch Name");
                                 //FIN MODIF JX-XAD 09/02/2010

                                 CODEUNIT.RUN(CODEUNIT::"Gen. Jnl.-Post",Rec);
                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 51      ;2   ;Action    ;
                      ShortCutKey=Shift+F9;
                      CaptionML=[ENU=Post and &Print;
                                 FRA=Valider et i&mprimer];
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=PostPrint;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 //DEBUT AJOUT JX-XAD 08/10/2010
                                 IF "Journal Batch Name" = 'C-POOL' THEN
                                   Gcu_CheckJnlLine.ValidateLines("Journal Template Name","Journal Batch Name");
                                 //FIN AJOUT JX-XAD 08/10/2010

                                 //DEBUT MODIF JX-XAD 09/02/2010
                                 Gcu_CheckJnlLine.CheckGenJnlLines("Journal Template Name","Journal Batch Name");
                                 //FIN MODIF JX-XAD 09/02/2010

                                 CODEUNIT.RUN(CODEUNIT::"Gen. Jnl.-Post+Print",Rec);
                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 24      ;1   ;ActionGroup;
                      CaptionML=[ENU=B&ank;
                                 FRA=B&anque] }
      { 11      ;2   ;Action    ;
                      Name=ImportBankStatement;
                      CaptionML=[ENU=Import Bank Statement;
                                 FRA=Importer le relevÇ bancaire];
                      Promoted=Yes;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=Import;
                      PromotedCategory=Category4;
                      OnAction=BEGIN
                                 IF FINDLAST THEN;
                                 ImportBankStatement;
                               END;
                                }
      { 21      ;2   ;Action    ;
                      Name=ShowStatementLineDetails;
                      CaptionML=[ENU=Bank Statement Details;
                                 FRA=DÇtails relevÇ bancaire];
                      RunObject=Page 1221;
                      RunPageLink=Posting Exch. No.=FIELD(Posting Exch. Entry No.),
                                  Line No.=FIELD(Posting Exch. Line No.);
                      Promoted=Yes;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=ExternalDocument;
                      PromotedCategory=Category4 }
      { 23      ;2   ;Action    ;
                      ShortCutKey=Ctrl+F11;
                      CaptionML=[ENU=Reconcile;
                                 FRA=Simuler];
                      Promoted=Yes;
                      Image=Reconcile;
                      PromotedCategory=Category4;
                      OnAction=BEGIN
                                 GLReconcile.SetGenJnlLine(Rec);
                                 GLReconcile.RUN;
                               END;
                                }
      { 25      ;1   ;ActionGroup;
                      CaptionML=[ENU=Application;
                                 FRA=Lettrage] }
      { 91      ;2   ;Action    ;
                      Name=Apply Entries;
                      ShortCutKey=Shift+F11;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Apply Entries;
                                 FRA=Lettrer Çcritures];
                      RunObject=Codeunit 225;
                      Promoted=Yes;
                      Image=ApplyEntries;
                      PromotedCategory=Category5 }
      { 27      ;2   ;Action    ;
                      Name=Match;
                      CaptionML=[ENU=Apply Automatically;
                                 FRA=Lettrer automatiquement];
                      RunObject=Codeunit 1250;
                      Promoted=Yes;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=MapAccounts;
                      PromotedCategory=Category5 }
      { 34      ;2   ;Action    ;
                      Name=AddMappingRule;
                      CaptionML=[ENU=Map Text to Account;
                                 FRA=Mapper le texte avec le compte];
                      Promoted=Yes;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=CheckRulesSyntax;
                      PromotedCategory=Category5;
                      OnAction=VAR
                                 TextToAccMapping@1000 : Record 1251;
                               BEGIN
                                 TextToAccMapping.InsertRec(Rec);
                               END;
                                }
      { 9       ;1   ;ActionGroup;
                      CaptionML=[ENU=Payro&ll;
                                 FRA=Salai&res] }
      { 29      ;2   ;Action    ;
                      Name=ImportPayrollTransaction;
                      CaptionML=[ENU=Import Payroll Transactions;
                                 FRA=Importer les transactions de paie];
                      Promoted=Yes;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=Import;
                      PromotedCategory=Category6;
                      OnAction=VAR
                                 GeneralLedgerSetup@1000 : Record 98;
                                 ImportPayrollTransaction@1001 : Codeunit 1202;
                               BEGIN
                                 GeneralLedgerSetup.GET;
                                 GeneralLedgerSetup.TESTFIELD("Payroll Trans. Import Format");
                                 IF FINDLAST THEN;
                                 ImportPayrollTransaction.SelectAndImportPayrollDataToGL(Rec,GeneralLedgerSetup."Payroll Trans. Import Format");
                               END;
                                }
      { 1000000012;2 ;Separator  }
      { 1000000013;2 ;Action    ;
                      CaptionML=FRA=Import fichier compta. externe;
                      OnAction=BEGIN
                                 //DEBUT MODIF JX-AUD 18/10/2010
                                 CLEAR(GÇnÇrerImportOD);
                                 GÇnÇrerImportOD.SetODPaieJnlLine(Rec);
                                 GÇnÇrerImportOD.RUN;
                                 //FIN MODIF JX-AUD 18/10/2010
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 39  ;1   ;Field     ;
                Lookup=Yes;
                CaptionML=[ENU=Batch Name;
                           FRA=Nom de la feuille];
                SourceExpr=CurrentJnlBatchName;
                OnValidate=BEGIN
                             GenJnlManagement.CheckName(CurrentJnlBatchName,Rec);
                             CurrentJnlBatchNameOnAfterVali;
                           END;

                OnLookup=BEGIN
                           CurrPage.SAVERECORD;
                           GenJnlManagement.LookupName(CurrentJnlBatchName,Rec);
                           CurrPage.UPDATE(FALSE);
                         END;
                          }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 1000000005;2;Field  ;
                SourceExpr="Line No.";
                Visible=FALSE }

    { 2   ;2   ;Field     ;
                SourceExpr="Posting Date";
                StyleExpr=StyleTxt }

    { 83  ;2   ;Field     ;
                SourceExpr="Document Date";
                Visible=FALSE;
                StyleExpr=StyleTxt }

    { 4   ;2   ;Field     ;
                SourceExpr="Document Type";
                StyleExpr=StyleTxt }

    { 6   ;2   ;Field     ;
                SourceExpr="Document No." }

    { 19  ;2   ;Field     ;
                SourceExpr="Incoming Document Entry No.";
                OnAssistEdit=BEGIN
                               IF "Incoming Document Entry No." > 0 THEN
                                 HYPERLINK(GetIncomingDocumentURL);
                             END;
                              }

    { 81  ;2   ;Field     ;
                SourceExpr="External Document No.";
                Visible=TRUE }

    { 32  ;2   ;Field     ;
                SourceExpr="Applies-to Ext. Doc. No.";
                Visible=FALSE }

    { 8   ;2   ;Field     ;
                SourceExpr="Account Type";
                StyleExpr=StyleTxt;
                OnValidate=BEGIN
                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                             SetUserInteractions;
                             CurrPage.UPDATE;
                           END;
                            }

    { 10  ;2   ;Field     ;
                SourceExpr="Account No.";
                StyleExpr=StyleTxt;
                OnValidate=BEGIN
                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                             ShowShortcutDimCode(ShortcutDimCode);
                             SetUserInteractions;
                             CurrPage.UPDATE;
                           END;
                            }

    { 1000000003;2;Field  ;
                SourceExpr="Vendor No." }

    { 1000000010;2;Field  ;
                SourceExpr="Customer No." }

    { 12  ;2   ;Field     ;
                SourceExpr=Description;
                StyleExpr=StyleTxt }

    { 17  ;2   ;Field     ;
                SourceExpr="Payer Information";
                Visible=FALSE;
                StyleExpr=StyleTxt }

    { 15  ;2   ;Field     ;
                SourceExpr="Transaction Information";
                Visible=FALSE;
                StyleExpr=StyleTxt }

    { 71  ;2   ;Field     ;
                SourceExpr="Business Unit Code";
                Visible=FALSE }

    { 65  ;2   ;Field     ;
                SourceExpr="Salespers./Purch. Code";
                Visible=FALSE }

    { 93  ;2   ;Field     ;
                SourceExpr="Campaign No.";
                Visible=FALSE }

    { 67  ;2   ;Field     ;
                AssistEdit=Yes;
                SourceExpr="Currency Code";
                Visible=FALSE;
                OnAssistEdit=BEGIN
                               ChangeExchangeRate.SetParameter("Currency Code","Currency Factor","Posting Date");
                               IF ChangeExchangeRate.RUNMODAL = ACTION::OK THEN
                                 VALIDATE("Currency Factor",ChangeExchangeRate.GetParameter);

                               CLEAR(ChangeExchangeRate);
                             END;
                              }

    { 14  ;2   ;Field     ;
                SourceExpr="Gen. Posting Type" }

    { 77  ;2   ;Field     ;
                SourceExpr="Gen. Bus. Posting Group" }

    { 16  ;2   ;Field     ;
                SourceExpr="Gen. Prod. Posting Group" }

    { 41  ;2   ;Field     ;
                SourceExpr="VAT Bus. Posting Group";
                Visible=FALSE }

    { 85  ;2   ;Field     ;
                SourceExpr="VAT Prod. Posting Group";
                Visible=FALSE }

    { 40  ;2   ;Field     ;
                SourceExpr=Quantity;
                Visible=False }

    { 18  ;2   ;Field     ;
                SourceExpr=Amount;
                Visible=FALSE;
                StyleExpr=StyleTxt }

    { 1000;2   ;Field     ;
                SourceExpr="Debit Amount" }

    { 1001;2   ;Field     ;
                SourceExpr="Credit Amount" }

    { 101 ;2   ;Field     ;
                SourceExpr="VAT Amount";
                Visible=FALSE }

    { 99  ;2   ;Field     ;
                SourceExpr="VAT Difference";
                Visible=FALSE }

    { 103 ;2   ;Field     ;
                SourceExpr="Bal. VAT Amount";
                Visible=FALSE }

    { 105 ;2   ;Field     ;
                SourceExpr="Bal. VAT Difference";
                Visible=FALSE }

    { 53  ;2   ;Field     ;
                SourceExpr="Bal. Account Type";
                StyleExpr=StyleTxt }

    { 55  ;2   ;Field     ;
                SourceExpr="Bal. Account No.";
                StyleExpr=StyleTxt;
                OnValidate=BEGIN
                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                             ShowShortcutDimCode(ShortcutDimCode);
                           END;
                            }

    { 57  ;2   ;Field     ;
                SourceExpr="Bal. Gen. Posting Type" }

    { 79  ;2   ;Field     ;
                SourceExpr="Bal. Gen. Bus. Posting Group" }

    { 59  ;2   ;Field     ;
                SourceExpr="Bal. Gen. Prod. Posting Group" }

    { 87  ;2   ;Field     ;
                SourceExpr="Bal. VAT Bus. Posting Group";
                Visible=FALSE }

    { 89  ;2   ;Field     ;
                SourceExpr="Bal. VAT Prod. Posting Group";
                Visible=FALSE }

    { 95  ;2   ;Field     ;
                SourceExpr="Bill-to/Pay-to No.";
                Visible=FALSE }

    { 97  ;2   ;Field     ;
                SourceExpr="Ship-to/Order Address Code";
                Visible=FALSE }

    { 61  ;2   ;Field     ;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=FALSE }

    { 63  ;2   ;Field     ;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=FALSE }

    { 300 ;2   ;Field     ;
                SourceExpr=ShortcutDimCode[3];
                CaptionClass='1,2,3';
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(3,ShortcutDimCode[3]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(3,ShortcutDimCode[3]);
                         END;
                          }

    { 302 ;2   ;Field     ;
                SourceExpr=ShortcutDimCode[4];
                CaptionClass='1,2,4';
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(4,ShortcutDimCode[4]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(4,ShortcutDimCode[4]);
                         END;
                          }

    { 304 ;2   ;Field     ;
                SourceExpr=ShortcutDimCode[5];
                CaptionClass='1,2,5';
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(5,ShortcutDimCode[5]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(5,ShortcutDimCode[5]);
                         END;
                          }

    { 306 ;2   ;Field     ;
                SourceExpr=ShortcutDimCode[6];
                CaptionClass='1,2,6';
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(6,ShortcutDimCode[6]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(6,ShortcutDimCode[6]);
                         END;
                          }

    { 308 ;2   ;Field     ;
                SourceExpr=ShortcutDimCode[7];
                CaptionClass='1,2,7';
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(7,ShortcutDimCode[7]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(7,ShortcutDimCode[7]);
                         END;
                          }

    { 310 ;2   ;Field     ;
                SourceExpr=ShortcutDimCode[8];
                CaptionClass='1,2,8';
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(8,ShortcutDimCode[8]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(8,ShortcutDimCode[8]);
                         END;
                          }

    { 1000000006;2;Field  ;
                SourceExpr=ShortcutDimCode[9];
                CaptionClass='1,2,9';
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(9,ShortcutDimCode[9]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(9,ShortcutDimCode[9]);
                         END;
                          }

    { 1000000004;2;Field  ;
                SourceExpr=ShortcutDimCode[10];
                CaptionClass='1,2,10';
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(10,ShortcutDimCode[10]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(10,ShortcutDimCode[10]);
                         END;
                          }

    { 69  ;2   ;Field     ;
                SourceExpr="Payment Terms Code";
                Visible=FALSE }

    { 36  ;2   ;Field     ;
                SourceExpr="Applied Automatically";
                Visible=FALSE;
                Editable=FALSE }

    { 3   ;2   ;Field     ;
                Name=Applied;
                CaptionML=[ENU=Applied;
                           FRA=LettrÇ];
                SourceExpr=IsApplied;
                Visible=FALSE }

    { 5   ;2   ;Field     ;
                SourceExpr="Applies-to Doc. Type";
                Visible=FALSE }

    { 26  ;2   ;Field     ;
                SourceExpr="Applies-to Doc. No.";
                Visible=FALSE }

    { 22  ;2   ;Field     ;
                SourceExpr="Applies-to ID";
                Visible=FALSE }

    { 28  ;2   ;Field     ;
                SourceExpr="On Hold";
                Visible=FALSE }

    { 20  ;2   ;Field     ;
                SourceExpr="Bank Payment Type";
                Visible=FALSE }

    { 73  ;2   ;Field     ;
                SourceExpr="Reason Code";
                Visible=FALSE }

    { 7   ;2   ;Field     ;
                SourceExpr=Comment }

    { 38  ;2   ;Field     ;
                SourceExpr="Direct Debit Mandate ID";
                Visible=FALSE }

    { 30  ;1   ;Group      }

    { 1901776101;2;Group  ;
                GroupType=FixedLayout }

    { 1900545301;3;Group  ;
                CaptionML=[ENU=Account Name;
                           FRA=Nom du compte] }

    { 35  ;4   ;Field     ;
                SourceExpr=AccName;
                Editable=FALSE }

    { 1900295701;3;Group  ;
                CaptionML=[ENU=Bal. Account Name;
                           FRA=Nom du compte contrepartie] }

    { 37  ;4   ;Field     ;
                CaptionML=[ENU=Bal. Account Name;
                           FRA=Nom du compte contrepartie];
                SourceExpr=BalAccName;
                Editable=FALSE }

    { 1902759701;3;Group  ;
                CaptionML=[ENU=Balance;
                           FRA=Solde] }

    { 31  ;4   ;Field     ;
                Name=Balance;
                CaptionML=[ENU=Balance;
                           FRA=Solde];
                SourceExpr=Balance + "Balance (LCY)" - xRec."Balance (LCY)";
                AutoFormatType=1;
                Visible=BalanceVisible;
                Editable=FALSE }

    { 1901652501;3;Group  ;
                CaptionML=[ENU=Total Balance;
                           FRA=Solde final] }

    { 33  ;4   ;Field     ;
                Name=TotalBalance;
                CaptionML=[ENU=Total Balance;
                           FRA=Solde final];
                SourceExpr=TotalBalance + "Balance (LCY)" - xRec."Balance (LCY)";
                AutoFormatType=1;
                Visible=TotalBalanceVisible;
                Editable=FALSE }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 1900919607;1;Part   ;
                SubPageLink=Dimension Set ID=FIELD(Dimension Set ID);
                PagePartID=Page699;
                Visible=FALSE;
                PartType=Page }

    { 1900383207;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      ChangeExchangeRate@1000 : Page 511;
      GLReconcile@1001 : Page 345;
      GenJnlManagement@1002 : Codeunit 230;
      ReportPrint@1003 : Codeunit 228;
      CurrentJnlBatchName@1004 : Code[10];
      AccName@1005 : Text[50];
      BalAccName@1006 : Text[50];
      Balance@1007 : Decimal;
      TotalBalance@1008 : Decimal;
      ShowBalance@1009 : Boolean;
      ShowTotalBalance@1010 : Boolean;
      ShortcutDimCode@1011 : ARRAY [10] OF Code[20];
      Text000@1012 : TextConst 'ENU=General Journal lines have been successfully inserted from Standard General Journal %1.;FRA=Les lignes feuille comptabilitÇ ont ÇtÇ insÇrÇes Ö partir de la feuille comptabilitÇ standard %1.';
      Text001@1013 : TextConst 'ENU=Standard General Journal %1 has been successfully created.;FRA=La crÇation de la feuille comptabilitÇ standard %1 a rÇussi.';
      OpenedFromBatch@1014 : Boolean;
      Gdec_MontantTTC@1000000000 : Decimal;
      Gint_Ligne@1000000001 : Integer;
      "GÇnÇrerFNP"@1000000002 : Report 50016;
      ContrepasserFNP@1000000003 : Report 50018;
      "GÇnÇrerCCA"@1000000008 : Report 50045;
      ContrepasserCCA@1000000009 : Report 50046;
      "GÇnÇrerCashPooling"@1000000010 : XMLport 50016;
      Gcu_CheckJnlLine@1000000011 : Codeunit 50006;
      Text002@1000000012 : TextConst 'ENU=Check completed;FRA=VÇrification terminÇe';
      "GÇnÇrerImportOD"@1000000013 : XMLport 50018;
      BalanceVisible@19073040 : Boolean INDATASET;
      TotalBalanceVisible@19063333 : Boolean INDATASET;
      StyleTxt@1015 : Text;

    LOCAL PROCEDURE UpdateBalance@1();
    BEGIN
      GenJnlManagement.CalcBalance(Rec,xRec,Balance,TotalBalance,ShowBalance,ShowTotalBalance);
      BalanceVisible := ShowBalance;
      TotalBalanceVisible := ShowTotalBalance;
    END;

    LOCAL PROCEDURE CurrentJnlBatchNameOnAfterVali@19002411();
    BEGIN
      CurrPage.SAVERECORD;
      GenJnlManagement.SetName(CurrentJnlBatchName,Rec);
      CurrPage.UPDATE(FALSE);
    END;

    PROCEDURE SetUserInteractions@2();
    BEGIN
      StyleTxt := GetStyle;
    END;

    BEGIN
    {
      ,JX-VSC1.0-XAD,JX-VSC1.1-XAD,JX-VSC1.2-XAD,JX-VSC2.0-XAD-AUD

      ---------------------------------- V1.0 ----------------------------------
      MODIF JX-XAD 15/10/2008
      Ajout de deux fonctions liÇes Ö la gestion des FNP :
      - Contrepasser les FNP
      - GÇnÇrer les FNP
      Un nouveau bouton a ÇtÇ ajoutÇ

      ---------------------------------- V1.1 ----------------------------------
      JX-XAD 05/06/2009
      Traduction en Anglais

      ---------------------------------- V1.2 ----------------------------------
      MODIF JX-XAD 09/12/2009 : FNP semi-automatiques
      Ajout d'un menu "FNP semi-auto" qui contient :
      - Import : importer dans la feuille de comptabilitÇ toutes les lignes de commandes non rÇceptionnÇes
                 et les devis d'achat depuis un fichier Excel au format CSV.
      - GÇnÇrer les FNP semi-auto : CrÇer un fichier au format CSV avec
                                    toutes les lignes de commandes non rÇceptionnÇes et les devis d'achat
      - Contrepasser les FNP semi-auto

      MODIF JX-XAD 23/08/2010
      Ajout de deux fonctions liÇes Ö la gestion des CCA :
      - Contrepasser les CCA
      - GÇnÇrer les CCA
      Un nouveau bouton a ÇtÇ ajoutÇ

      MODIF JX-AUD 17/09/2010
      Ajout de la fonction Cash Pooling dans Bouton Fonctions

      MODIF JX-XAD 01/10/2010
      Ajout du champ "N¯ Client"

      MODIF JX-XAD 08/10/2010
      Ajout test des champs pour la feuille Cash Pooling lors de la validation de la feuille
      car l'import du fichier importe les donnÇes dans toutes les sociÇtÇs sans valider les champs.
      Valider des champs dans les tables des autres sociÇtÇs peut provoquer des erreurs.

      MODIF JX-AUD 18/10/2010
      Ajout de la fonction Import OD Paie dans Bouton Fonctions

      MODIF JX-XAD 09/02/2010
      Tests des comptes 409, 416, 418 et 419 lors de la validation pour obliger la saisie du n¯ client ou fournisseur

      MODIF JX-ABE 27/06/2016
      Modifier la propriÇtÇ "Not Blank" des champ "discription" en Yes.

      MODIF JX-ABE 16/09/2016
      Rendre le champ N¯ doc externe visible.
    }
    END.
  }
}

